fakeRemoteSchedulerConfiguration:
  cls: remote
  host: fake-scheduler.i.s.s.n
  port: 5008

fakePostgresSchedulerConfiguration:
  cls: postgresql
  host: db1.i.s.s.n
  port: 5432
  user: swh
  password: test
  db: swh-scheduler

toolbox:
  enabled: true
  schedulerConfigurationRef: fakeRemoteSchedulerConfiguration

fakeCeleryConfiguration:
  host: fake-scheduler.i.s.s.n
  port: 5672
  user: fakeguest
  pass: fakeguest

scheduler:
  enabled: true
  schedulerConfigurationRef: fakeRemoteSchedulerConfiguration
  celeryConfigurationRef: fakeCeleryConfiguration
  recurrent:
    enabled: true
    scheduling_policy:
      default:
      - policy: never_visited_oldest_update_first
        weight: 100
      opam:
      - policy: origins_without_last_update
        weight: 100
  rpc:
    enabled: true
    schedulerConfigurationRef: fakePostgresSchedulerConfiguration
    replicas: 1
    gunicorn:
      threads: 1
      workers: 1
      timeout: 10
    # autoScaling:
    #   minReplicaCount: 4
    #   maxReplicaCount: 20
    #   cpuPercentageUsage: 150
    # ingress:
    #   enabled: true
    #   host: myscheduler.domain
