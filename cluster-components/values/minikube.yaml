cert-manager:
  enabled: false

# Relay cluster's alerts to the ircrelay
alertmanager:
  enabled: false
  ircrelay:
    enabled: true
    host: https://alertmanager-irc-relay.admin.swh.network/minikube-swh-sysadm

# Activate prometheus as this is not previously done (in contrast with other clusters
# provisioned by terraform which does the prometheus configuration too)
prometheus:
  enabled: false

alertmanagerIrcRelay:
  enabled: false
  ingress:
    enabled: true
  # Optional username for the bot to use (configured from secrets in other clusters)
  username: swhprombot
  # Different room to use than the production one
  room: minikube-swh-sysadm
  requestedMemory: "32Mi"
  requestedCpu: "100m"
  limitedMemory: "64Mi"
  limitedCpu: "200m"

blackboxExporter:
  enabled: false

podPriority:
  enabled: true

svix:
  enabled: false
  ingress:
    enabled: true
    host: svix-test.local
    createTLS: false
    # annotations:
    #   foo: bar
    whitelistSourceRange:
    - 192.168.49.0/24
  requestedMemory: 100Mi
  requestedCpu: 100m
  namespace: cluster-components
  postgres:
    enabled: false
    persistentVolume: false
  redis:
    enabled: false
    # When true, redis instance is deployed through the chart
    managedByChart: true
    persistentVolume: false
    dsn: redis

dockerCache:
  enabled: false
  ingress:
    tls:
      enabled: true
  instances:
    quay.io:
      enabled: false

rabbitmq:
  enabled: false
  namespace: cluster-components
  logLevel: info
  storageVolume:
    class: standard
  deployments:
    scheduler:
      enabled: true
      replicas: 1

cloudnativePg:
  enabled: false
  namespace: swh
  testing: true
  storage:
    storageClass: standard
    size: 1Gi
  postgresql:
    pg_hba:
    - host all all all md5
  roles:
    - name: guest
      ensure: present
      comment: Guest
      login: true
      superuser: false
      passwordSecret:
        name: swh-guest-postgresql-secret
  deployments:
    archive:
      enabled: true
      initdb:
        type: microservice
        secretKeyRef: swh-swh-postgresql-secret
        databases:
          - swh
    scheduler:
      enabled: true
      initdb:
        type: microservice
        secretKeyRef: swh-scheduler-swh-postgresql-secret
        databases:
          - swh-scheduler
    vault:
      enabled: true
      initdb:
        type: microservice
        secretKeyRef: swh-vault-swh-postgresql-secret
        databases:
          - swh-vault
    indexer-storage:
      enabled: true
      initdb:
        type: microservice
        secretKeyRef: swh-indexer-storage-swh-postgresql-secret
        databases:
          - swh-indexer
    web:
      enabled: true
      initdb:
        type: microservice
        secretKeyRef: swh-web-swh-postgresql-secret
        databases:
          - swh-web
    scrubber:
      enabled: true
      initdb:
        type: microservice
        secretKeyRef: swh-scrubber-swh-postgresql-secret
        databases:
          - swh-scrubber
    deposit:
      enabled: true
      initdb:
        type: microservice
        secretKeyRef: swh-deposit-swh-postgresql-secret
        databases:
          - swh-deposit
