environment: production
clusterName: archive-production-rke2
clusterUrl: https://rancher.euwest.azure.internal.softwareheritage.org/k8s/clusters/c-m-75xcg59s

clusterConfiguration:
  selfHeal: true

metallb:
  enabled: true

ingressNginx:
  enabled: true
  applicationNameOverride: archive-production-rke2-ingress-nginx
  defaultClass: true
  annotations:
    # To be able to share the same ip for several services
    # https://metallb.org/usage/#ip-address-sharing
    metallb.universe.tf/allow-shared-ip: clusterIP
  requestedCpu: 75m
  requestedMemory: 200Mi
  config:
    worker-processes: 6

certManager:
  enabled: true
  webhookGandiEnabled: true
  useGandiDNS: true

otlpCollector:
  enabled: true
  debug: false
  resources:
    cpu: 1024m
    memory: 16Gi
    batch: 10
    timeout: 10s
  endpoints:
    - http://esnode1.internal.softwareheritage.org:9200
    - http://esnode2.internal.softwareheritage.org:9200
    - http://esnode3.internal.softwareheritage.org:9200
    - http://esnode7.internal.softwareheritage.org:9200

