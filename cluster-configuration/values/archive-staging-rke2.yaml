clusterName: archive-staging-rke2
clusterUrl: https://rancher.euwest.azure.internal.softwareheritage.org/k8s/clusters/c-m-9n5h9nrf

clusterConfiguration:
  selfHeal: true

metallb:
  enabled: true

ingressNginx:
  enabled: true
  defaultClass: true
  annotations:
    # To be able to share the same ip for several services
    # https://metallb.org/usage/#ip-address-sharing
    metallb.universe.tf/allow-shared-ip: clusterIP

certManager:
  enabled: true
  webhookGandiEnabled: true
  useGandiDNS: true

otlpCollector:
  enabled: true
  debug: false
  indexes:
    # misnamed: should be logs-{swh,system}-staging, kept for retro compatibility with
    # development tryouts
    swh: staging-logs
    system: staging-system-logs
  resources:
    cpu: 256m
    memory: 2Gi
    batch: 10
    timeout: 10s
  endpoints:
    - http://esnode1.internal.softwareheritage.org:9200
    - http://esnode2.internal.softwareheritage.org:9200
    - http://esnode3.internal.softwareheritage.org:9200
    - http://esnode7.internal.softwareheritage.org:9200

